# æ”¿åºœä¼šè­°ãƒšãƒ¼ã‚¸ã‚µãƒãƒªãƒ¼ä½œæˆ - ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€æ”¿åºœä¼šè­°ãƒšãƒ¼ã‚¸ã®ã‚µãƒãƒªãƒ¼ä½œæˆã‚¹ã‚­ãƒ«ã®**ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿**ã§ã™ã€‚
11ã‚¹ãƒ†ãƒƒãƒ—ã®å‡¦ç†ã‚’ã€å°‚ç”¨ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«å§”è­²ã—ã¦å®Ÿè¡Œã—ã¾ã™ã€‚

**ã€é‡è¦ã€‘ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ã®å½¹å‰²:**
- ãƒ•ãƒ­ãƒ¼åˆ¶å¾¡: 11ã‚¹ãƒ†ãƒƒãƒ—ã®é †åºç®¡ç†
- ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå‘¼ã³å‡ºã—: Taskãƒ„ãƒ¼ãƒ«ã§å„ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’èµ·å‹•
- ãƒ‡ãƒ¼ã‚¿å—ã‘æ¸¡ã—: å„ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å‡ºåŠ›ã‚’æ¬¡ã®å…¥åŠ›ã«å¤‰æ›
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: ã‚¨ãƒ©ãƒ¼ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ãŸå‡¦ç†åˆ†å²
- ä¸¦åˆ—å®Ÿè¡Œç®¡ç†: Step 6, 7, 8ã®è¤‡æ•°Taskãƒ„ãƒ¼ãƒ«åŒæ™‚å‘¼ã³å‡ºã—
- é€²æ—è¡¨ç¤º: TodoWriteãƒ„ãƒ¼ãƒ«ã§é€²æ—ã‚’å¯è¦–åŒ–

**ã€é‡è¦ã€‘ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãŒè¡Œã‚ãªã„ã“ã¨:**
- å…·ä½“çš„ãªãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿æ›¸ãï¼ˆã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«å§”è­²ï¼‰
- PDFå‡¦ç†ã®è©³ç´°ï¼ˆã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«å§”è­²ï¼‰
- è¦ç´„æ–‡ã®ç”Ÿæˆï¼ˆã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«å§”è­²ï¼‰

**ã€é‡è¦ã€‘Bash toolã®ä½¿ç”¨åˆ¶é™:**
- **Bash toolã¯ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œã®ã¿ã«ä½¿ç”¨**
- ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿å–ã‚Š: Bash cat/head/tail **ç¦æ­¢** â†’ **Read tool** ã‚’ä½¿ç”¨
- ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢: Bash find/ls **ç¦æ­¢** â†’ **Glob tool** ã‚’ä½¿ç”¨
- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ¤œç´¢: Bash grep/rg **ç¦æ­¢** â†’ **Grep tool** ã‚’ä½¿ç”¨
- ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†: Bash sed/awk **ç¦æ­¢** â†’ **Edit tool** ã‚’ä½¿ç”¨
- ãƒ•ã‚¡ã‚¤ãƒ«æ›¸ãè¾¼ã¿: Bash echo/cat **ç¦æ­¢** â†’ **Write tool** ã‚’ä½¿ç”¨
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®é€šä¿¡: Bash echo **ç¦æ­¢** â†’ ç›´æ¥ãƒ†ã‚­ã‚¹ãƒˆå‡ºåŠ›ã‚’ä½¿ç”¨
- è¨±å¯ã•ã‚Œã‚‹ä½¿ç”¨: `.claude/skills/common/scripts/` é…ä¸‹ã®ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œã€dockerã€sskyã€ãã®ä»–ã‚·ã‚¹ãƒ†ãƒ ã‚³ãƒãƒ³ãƒ‰

---

## å¼•æ•°

- **URL**ï¼ˆHTMLãƒšãƒ¼ã‚¸ã¾ãŸã¯PDFãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
- **åºœçœåºè­˜åˆ¥å­**ï¼ˆ`cas` | `cao` | `meti` | `chusho` | `mhlw` | `fsa`ï¼‰

## å‡ºåŠ›ä»•æ§˜

1ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆ:
- `output/{ä¼šè­°å}_{å›æ•°}_{æ—¥ä»˜}_report.md` - ã‚¢ãƒ–ã‚¹ãƒˆãƒ©ã‚¯ãƒˆï¼ˆ1,000å­—ã€ã‚³ãƒ¼ãƒ‰ãƒ•ã‚§ãƒ³ã‚¹å†…ï¼‰+ è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆ

## å‡¦ç†ãƒ•ãƒ­ãƒ¼æ¦‚è¦ï¼ˆ11ã‚¹ãƒ†ãƒƒãƒ—ï¼‰

```
Step 1: content-acquirer â†’ HTML/PDFãƒªãƒ³ã‚¯å–å¾—
â†“
Step 2: metadata-extractor â†’ ä¼šè­°åã€æ—¥ä»˜ã€å›æ•°æŠ½å‡º
â†“
Step 2.5: page-type-detector â†’ ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—åˆ¤å®š
â†“
Step 3: overview-creator â†’ ä¼šè­°æ¦‚è¦ä½œæˆ
â†“
Step 4: minutes-referencer â†’ è­°äº‹éŒ²å‚ç…§
â†“
Step 5: material-selector â†’ è³‡æ–™é¸æŠã¨ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
â†“
Step 6: document-type-classifier (ä¸¦åˆ—) â†’ æ–‡æ›¸ã‚¿ã‚¤ãƒ—åˆ¤å®š
â†“
Step 7: pdf-converter (ä¸¦åˆ—) â†’ PDFå¤‰æ›
â†“
Step 8: material-analyzer (ä¸¦åˆ—) â†’ è³‡æ–™åˆ†æ
â†“
Step 9: summary-generator â†’ ã‚¢ãƒ–ã‚¹ãƒˆãƒ©ã‚¯ãƒˆç”Ÿæˆ
â†“
Step 10: file-writer â†’ report.mdå‡ºåŠ›
â†“
Step 11: bluesky-poster â†’ BlueskyæŠ•ç¨¿
```

---

## å®Ÿè£…

### åˆæœŸåŒ–

```
# TodoWriteã§é€²æ—ç®¡ç†ã‚’é–‹å§‹
TodoWrite([
  {content: "HTMLã¾ãŸã¯PDFã‚’å–å¾—", status: "pending", activeForm: "HTMLã¾ãŸã¯PDFã‚’å–å¾—ä¸­"},
  {content: "ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡º", status: "pending", activeForm: "ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡ºä¸­"},
  {content: "ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—ã‚’åˆ¤å®š", status: "pending", activeForm: "ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—ã‚’åˆ¤å®šä¸­"},
  {content: "ä¼šè­°æ¦‚è¦ã‚’ä½œæˆ", status: "pending", activeForm: "ä¼šè­°æ¦‚è¦ã‚’ä½œæˆä¸­"},
  {content: "è­°äº‹éŒ²ã‚’å‚ç…§", status: "pending", activeForm: "è­°äº‹éŒ²ã‚’å‚ç…§ä¸­"},
  {content: "è³‡æ–™ã‚’é¸æŠã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰", status: "pending", activeForm: "è³‡æ–™ã‚’é¸æŠã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ä¸­"},
  {content: "æ–‡æ›¸ã‚¿ã‚¤ãƒ—ã‚’åˆ¤å®š", status: "pending", activeForm: "æ–‡æ›¸ã‚¿ã‚¤ãƒ—ã‚’åˆ¤å®šä¸­"},
  {content: "PDFã‚’å¤‰æ›", status: "pending", activeForm: "PDFã‚’å¤‰æ›ä¸­"},
  {content: "è³‡æ–™ã‚’åˆ†æ", status: "pending", activeForm: "è³‡æ–™ã‚’åˆ†æä¸­"},
  {content: "ã‚¢ãƒ–ã‚¹ãƒˆãƒ©ã‚¯ãƒˆã‚’ç”Ÿæˆ", status: "pending", activeForm: "ã‚¢ãƒ–ã‚¹ãƒˆãƒ©ã‚¯ãƒˆã‚’ç”Ÿæˆä¸­"},
  {content: "ãƒ¬ãƒãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡ºåŠ›", status: "pending", activeForm: "ãƒ¬ãƒãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡ºåŠ›ä¸­"},
  {content: "Blueskyã«æŠ•ç¨¿", status: "pending", activeForm: "Blueskyã«æŠ•ç¨¿ä¸­"}
])
```

### Step 1: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å–å¾—

```
# content-acquirerã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å‘¼ã³å‡ºã—
Task(
  subagent_type: "content-acquirer",
  description: "HTMLã¾ãŸã¯PDFã‚’å–å¾—",
  prompt: f"ä»¥ä¸‹ã®URLã‹ã‚‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å–å¾—ã—ã€PDFãƒªãƒ³ã‚¯ã‚’æŠ½å‡ºã—ã¦ãã ã•ã„ã€‚

  URL: {input_url}
  åºœçœåº: {government_agency}

  å‡¦ç†å†…å®¹:
  - HTMLãƒšãƒ¼ã‚¸ã®å ´åˆ: WebFetchã§å–å¾—ã€ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ã€PDFãƒªãƒ³ã‚¯æŠ½å‡º
  - PDFãƒ•ã‚¡ã‚¤ãƒ«ã®å ´åˆ: URLã‚’ãã®ã¾ã¾è¨˜éŒ²
  - å…¨PDFãƒªãƒ³ã‚¯ã‚’çµ¶å¯¾URLã«å¤‰æ›

  JSONå½¢å¼ã§çµæœã‚’è¿”ã—ã¦ãã ã•ã„ã€‚"
)

# çµæœã‚’å—ã‘å–ã‚‹
result_step1 = (JSONè§£æ)

# ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯
if result_step1.status == "error":
  if result_step1.error.level == "CRITICAL":
    # å‡¦ç†ä¸­æ–­
    ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥ã—ã¦çµ‚äº†
  else:
    # è­¦å‘Šã‚’è¨˜éŒ²ã—ã¦ç¶šè¡Œ
    warnings.append(result_step1.error.message)

# Todoã‚’æ›´æ–°
TodoWrite([
  {content: "HTMLã¾ãŸã¯PDFã‚’å–å¾—", status: "completed", ...},
  {content: "ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡º", status: "in_progress", ...},
  ...
])
```

### Step 2: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æŠ½å‡º

```
# metadata-extractorã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å‘¼ã³å‡ºã—
Task(
  subagent_type: "metadata-extractor",
  description: "ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡º",
  prompt: f"ä»¥ä¸‹ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‹ã‚‰ä¼šè­°ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡ºã—ã¦ãã ã•ã„ã€‚

  å…¥åŠ›ãƒ‡ãƒ¼ã‚¿:
  {json.dumps(result_step1.data, ensure_ascii=False)}

  æŠ½å‡ºé …ç›®:
  - ä¼šè­°åï¼ˆã€Œç¬¬Xå›ã€ã‚’é™¤ãï¼‰
  - æ—¥ä»˜ï¼ˆYYYYMMDDå½¢å¼ã«å¤‰æ›ï¼‰
  - å›æ•°
  - é–‹å‚¬å ´æ‰€

  JSONå½¢å¼ã§çµæœã‚’è¿”ã—ã¦ãã ã•ã„ã€‚"
)

# çµæœã‚’å—ã‘å–ã‚‹
result_step2 = (JSONè§£æ)

# ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯ï¼ˆå¿…é ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ¬ å¦‚ï¼‰
if result_step2.status == "error":
  if result_step2.error.code == "METADATA_MISSING":
    # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å…¥åŠ›ã‚’æ±‚ã‚ã‚‹
    AskUserQuestion([
      {
        question: "ä¼šè­°åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",
        header: "ä¼šè­°å",
        options: [...]
      },
      {
        question: "é–‹å‚¬æ—¥ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆYYYYMMDDå½¢å¼ï¼‰",
        header: "é–‹å‚¬æ—¥",
        options: [...]
      }
    ])
    # ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã§ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’è£œå®Œ
    result_step2.data.meeting_name = user_input.meeting_name
    result_step2.data.meeting_date = user_input.meeting_date

# Todoã‚’æ›´æ–°
TodoWrite([...])
```

### Step 2.5: ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—åˆ¤å®š

```
# page-type-detectorã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å‘¼ã³å‡ºã—
Task(
  subagent_type: "page-type-detector",
  description: "ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—ã‚’åˆ¤å®š",
  prompt: f"ä»¥ä¸‹ã®HTMLãƒšãƒ¼ã‚¸ãŒä¼šè­°ãƒšãƒ¼ã‚¸ã‹å ±å‘Šæ›¸ãƒšãƒ¼ã‚¸ã‹ã‚’åˆ¤å®šã—ã¦ãã ã•ã„ã€‚

  HTMLå†…å®¹: {result_step1.data.html_content[:2000]}
  ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«: {result_step1.data.page_title}
  PDFæ•°: {len(result_step1.data.pdf_links)}

  JSONå½¢å¼ã§çµæœã‚’è¿”ã—ã¦ãã ã•ã„ã€‚"
)

# çµæœã‚’å—ã‘å–ã‚‹
result_step2_5 = (JSONè§£æ)

# Todoã‚’æ›´æ–°
TodoWrite([...])
```

### Step 3: ä¼šè­°æ¦‚è¦ä½œæˆ

```
# overview-creatorã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å‘¼ã³å‡ºã—
Task(
  subagent_type: "overview-creator",
  description: "ä¼šè­°æ¦‚è¦ã‚’ä½œæˆ",
  prompt: f"ä»¥ä¸‹ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‹ã‚‰ä¼šè­°æ¦‚è¦ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

  HTMLå†…å®¹: {result_step1.data.html_content}
  PDFãƒªãƒ³ã‚¯ï¼ˆè­°äº‹æ¬¡ç¬¬ï¼‰: {è­°äº‹æ¬¡ç¬¬PDFãŒã‚ã‚Œã°}
  ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—: {result_step2_5.data.page_type}

  JSONå½¢å¼ã§çµæœã‚’è¿”ã—ã¦ãã ã•ã„ã€‚"
)

# çµæœã‚’å—ã‘å–ã‚‹
result_step3 = (JSONè§£æ)

# Todoã‚’æ›´æ–°
TodoWrite([...])
```

### Step 4: è­°äº‹éŒ²å‚ç…§

```
# minutes-referencerã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å‘¼ã³å‡ºã—
Task(
  subagent_type: "minutes-referencer",
  description: "è­°äº‹éŒ²ã‚’å‚ç…§",
  prompt: f"ä»¥ä¸‹ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‹ã‚‰è­°äº‹éŒ²ã‚’æŠ½å‡ºã—ã¦ãã ã•ã„ã€‚

  HTMLå†…å®¹: {result_step1.data.html_content}
  PDFãƒªãƒ³ã‚¯ï¼ˆè­°äº‹éŒ²ï¼‰: {è­°äº‹éŒ²PDFãŒã‚ã‚Œã°}

  JSONå½¢å¼ã§çµæœã‚’è¿”ã—ã¦ãã ã•ã„ã€‚"
)

# çµæœã‚’å—ã‘å–ã‚‹
result_step4 = (JSONè§£æ)

# Todoã‚’æ›´æ–°
TodoWrite([...])
```

### Step 5: è³‡æ–™é¸æŠã¨ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

```
# material-selectorã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å‘¼ã³å‡ºã—
Task(
  subagent_type: "material-selector",
  description: "è³‡æ–™ã‚’é¸æŠã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰",
  prompt: f"ä»¥ä¸‹ã®PDFãƒªãƒ³ã‚¯ã‚’ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã—ã€é«˜å„ªå…ˆåº¦ã®è³‡æ–™ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚

  PDFãƒªãƒ³ã‚¯: {json.dumps(result_step1.data.pdf_links, ensure_ascii=False)}

  ä¼šè­°ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ:
  - ä¼šè­°å: {result_step2.data.meeting_name}
  - æ¦‚è¦: {result_step3.data.overview_text[:500]}
  - è­°äº‹éŒ²ã§ã®è³‡æ–™è¨€åŠ: {result_step4ã‹ã‚‰æŠ½å‡º}

  åºœçœåº: {government_agency}

  å‡¦ç†:
  - å„PDFã‚’ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ï¼ˆ1-5ç‚¹ï¼‰
  - ã‚¹ã‚³ã‚¢4ä»¥ä¸Šã¾ãŸã¯ä¸Šä½5å€‹ã‚’é¸æŠ
  - é †æ¬¡ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆ./tmp/ã¸ï¼‰

  JSONå½¢å¼ã§çµæœã‚’è¿”ã—ã¦ãã ã•ã„ã€‚"
)

# çµæœã‚’å—ã‘å–ã‚‹
result_step5 = (JSONè§£æ)

# ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯
if result_step5.status == "error":
  if result_step5.error.code == "ALL_DOWNLOADS_FAILED":
    # å‡¦ç†ä¸­æ–­
    ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥ã—ã¦çµ‚äº†

# Todoã‚’æ›´æ–°
TodoWrite([...])
```

### Step 6: æ–‡æ›¸ã‚¿ã‚¤ãƒ—åˆ¤å®šï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰

```
# document-type-classifierã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ä¸¦åˆ—å‘¼ã³å‡ºã—
# ã€é‡è¦ã€‘1ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§è¤‡æ•°ã®Taskãƒ„ãƒ¼ãƒ«ã‚’å‘¼ã³å‡ºã™

selected_pdfs = result_step5.data.selected_pdfs

for pdf in selected_pdfs:
  Task(
    subagent_type: "document-type-classifier",
    description: f"{pdf.filename}ã®æ–‡æ›¸ã‚¿ã‚¤ãƒ—ã‚’åˆ¤å®š",
    prompt: f"ä»¥ä¸‹ã®PDFãƒ•ã‚¡ã‚¤ãƒ«ã®æ–‡æ›¸ã‚¿ã‚¤ãƒ—ã‚’åˆ¤å®šã—ã¦ãã ã•ã„ã€‚

    ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹: {pdf.download_path}

    åˆ¤å®šã‚«ãƒ†ã‚´ãƒª: word, powerpoint, agenda, participants, news, survey, other

    JSONå½¢å¼ã§çµæœã‚’è¿”ã—ã¦ãã ã•ã„ã€‚"
  )

# å…¨ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å®Œäº†ã‚’å¾…ã¤
# çµæœã‚’å—ã‘å–ã‚‹
results_step6 = [å„Taskã®çµæœã‚’JSONè§£æ]

# çµæœã‚’PDFãƒªã‚¹ãƒˆã«çµ±åˆ
for i, pdf in enumerate(selected_pdfs):
  pdf.document_type = results_step6[i].data.document_type
  pdf.page_count = results_step6[i].data.page_count

# Todoã‚’æ›´æ–°
TodoWrite([...])
```

### Step 7: PDFå¤‰æ›ï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰

```
# pdf-converterã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ä¸¦åˆ—å‘¼ã³å‡ºã—
# ã€é‡è¦ã€‘1ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§è¤‡æ•°ã®Taskãƒ„ãƒ¼ãƒ«ã‚’å‘¼ã³å‡ºã™

for pdf in selected_pdfs:
  Task(
    subagent_type: "pdf-converter",
    description: f"{pdf.filename}ã‚’å¤‰æ›",
    prompt: f"ä»¥ä¸‹ã®PDFã‚’æ–‡æ›¸ã‚¿ã‚¤ãƒ—ã«å¿œã˜ã¦å¤‰æ›ã—ã¦ãã ã•ã„ã€‚

    å…¥åŠ›ãƒ‡ãƒ¼ã‚¿:
    {{
      \"file_path\": \"{pdf.download_path}\",
      \"document_type\": \"{pdf.document_type}\",
      \"page_count\": {pdf.page_count},
      \"priority_score\": {pdf.priority_score},
      \"title\": \"{pdf.title}\"
    }}

    å‡¦ç†:
    - å…¨PDF: pdftotextã§ãƒ†ã‚­ã‚¹ãƒˆåŒ–
    - PowerPoint: é‡è¦ãƒšãƒ¼ã‚¸æŠ½å‡º + doclingã§éƒ¨åˆ†MarkdownåŒ–
    - Word/ãã®ä»–: pdftotextã®çµæœã‚’ãã®ã¾ã¾ä½¿ç”¨

    JSONå½¢å¼ã§çµæœã‚’è¿”ã—ã¦ãã ã•ã„ã€‚"
  )

# å…¨ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å®Œäº†ã‚’å¾…ã¤
# çµæœã‚’å—ã‘å–ã‚‹
results_step7 = [å„Taskã®çµæœã‚’JSONè§£æ]

# çµæœã‚’PDFãƒªã‚¹ãƒˆã«çµ±åˆ
for i, pdf in enumerate(selected_pdfs):
  pdf.converted_path = results_step7[i].data.output_path
  pdf.conversion_method = results_step7[i].data.conversion_method

# Todoã‚’æ›´æ–°
TodoWrite([...])
```

### Step 8: è³‡æ–™åˆ†æï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰

```
# material-analyzerã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ä¸¦åˆ—å‘¼ã³å‡ºã—
# ã€é‡è¦ã€‘1ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§è¤‡æ•°ã®Taskãƒ„ãƒ¼ãƒ«ã‚’å‘¼ã³å‡ºã™

for pdf in selected_pdfs:
  metadata_json = json.dumps({
    "title": pdf.title,
    "filename": pdf.filename,
    "url": pdf.url,
    "page_count": pdf.page_count,
    "original_format": "pdf"
  }, ensure_ascii=False)

  Task(
    subagent_type: "material-analyzer",
    description: f"{pdf.filename}ã‚’åˆ†æ",
    prompt: f"ä»¥ä¸‹ã®å¤‰æ›æ¸ˆã¿è³‡æ–™ã‚’åˆ†æã—ã¦ãã ã•ã„ã€‚

    ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹: {pdf.converted_path}
    æ–‡æ›¸ã‚¿ã‚¤ãƒ—: {pdf.document_type}
    å„ªå…ˆåº¦ã‚¹ã‚³ã‚¢: {pdf.priority_score}
    ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿: {metadata_json}

    å‡¦ç†:
    - æ–‡æ›¸ã‚¿ã‚¤ãƒ—ã¨ã‚µã‚¤ã‚ºã«å¿œã˜ãŸèª­ã¿å–ã‚Šæˆ¦ç•¥ã‚’é¸æŠ
    - è©³ç´°ãªè¦ç´„ã‚’ç”Ÿæˆï¼ˆ500-1000å­—ï¼‰
    - ä¸»è¦ãƒã‚¤ãƒ³ãƒˆã‚’æŠ½å‡ºï¼ˆ5-10é …ç›®ï¼‰

    JSONå½¢å¼ã§çµæœã‚’è¿”ã—ã¦ãã ã•ã„ã€‚"
  )

# å…¨ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å®Œäº†ã‚’å¾…ã¤
# çµæœã‚’å—ã‘å–ã‚‹
results_step8 = [å„Taskã®çµæœã‚’JSONè§£æ]

# çµæœã‚’çµ±åˆ
analyzed_materials = []
for i, result in enumerate(results_step8):
  if result.status == "success":
    analyzed_materials.append(result.data)

# Todoã‚’æ›´æ–°
TodoWrite([...])
```

### Step 9: ã‚¢ãƒ–ã‚¹ãƒˆãƒ©ã‚¯ãƒˆç”Ÿæˆ

```
# å…¨ãƒ‡ãƒ¼ã‚¿ã‚’çµ±åˆ
aggregated_data = {
  "metadata": result_step2.data,
  "page_type": result_step2_5.data.page_type,
  "overview": result_step3.data,
  "minutes": result_step4.data,
  "materials": analyzed_materials,
  "original_url": input_url
}

# summary-generatorã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å‘¼ã³å‡ºã—
Task(
  subagent_type: "summary-generator",
  description: "ã‚¢ãƒ–ã‚¹ãƒˆãƒ©ã‚¯ãƒˆã‚’ç”Ÿæˆ",
  prompt: f"ä»¥ä¸‹ã®ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰è«–æ–‡å½¢å¼ã®ã‚¢ãƒ–ã‚¹ãƒˆãƒ©ã‚¯ãƒˆï¼ˆ1,000å­—ä»¥å†…ã€1æ®µè½ï¼‰ã¨è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚

  å…¥åŠ›ãƒ‡ãƒ¼ã‚¿:
  {json.dumps(aggregated_data, ensure_ascii=False, indent=2)}

  ã‚¢ãƒ–ã‚¹ãƒˆãƒ©ã‚¯ãƒˆã®å¿…é ˆæ§‹æˆè¦ç´ ï¼ˆã“ã®é †åºï¼‰:
  1. èƒŒæ™¯ãƒ»æ–‡è„ˆï¼ˆä¼šè­°åã¨å›æ•°ã‚’å«ã‚€ï¼‰
  2. ç›®çš„
  3. è­°è«–å†…å®¹ï¼ˆå…·ä½“çš„ã«ï¼‰
  4. æ±ºå®šäº‹é …
  5. ä»Šå¾Œã®æ–¹é‡

  åˆ¶ç´„:
  - 1æ®µè½ã®ã¿ï¼ˆæ”¹è¡Œãªã—ï¼‰
  - 1,000å­—ä»¥å†…ï¼ˆå³å®ˆï¼‰
  - è³‡æ–™ã«å®Ÿéš›ã«ã‚ã‚‹å†…å®¹ã®ã¿ä½¿ç”¨

  JSONå½¢å¼ã§çµæœã‚’è¿”ã—ã¦ãã ã•ã„ã€‚"
)

# çµæœã‚’å—ã‘å–ã‚‹
result_step9 = (JSONè§£æ)

# ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯ï¼ˆ1,000å­—è¶…éæ™‚ï¼‰
if result_step9.status == "error":
  if result_step9.error.code == "ABSTRACT_TOO_LONG":
    # ãƒªãƒˆãƒ©ã‚¤ï¼ˆæœ€å¤§3å›ï¼‰
    # ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå†…ã§è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œã‚‹
    ã‚¨ãƒ©ãƒ¼é€šçŸ¥

# Todoã‚’æ›´æ–°
TodoWrite([...])
```

### Step 10: ãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›

```
# ãƒ•ã‚¡ã‚¤ãƒ«åã‚’ç”Ÿæˆ
output_filename = f"{result_step2.data.meeting_name}_{result_step2.data.round_text}_{result_step2.data.meeting_date}_report.md"

# file-writerã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å‘¼ã³å‡ºã—
Task(
  subagent_type: "file-writer",
  description: "ãƒ¬ãƒãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡ºåŠ›",
  prompt: f"ä»¥ä¸‹ã®ãƒ¬ãƒãƒ¼ãƒˆå†…å®¹ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚

  ãƒ¬ãƒãƒ¼ãƒˆå†…å®¹:
  {json.dumps(result_step9.data, ensure_ascii=False)}

  å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«å: {output_filename}

  å‡¦ç†:
  - ./output ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆï¼ˆå­˜åœ¨ã—ãªã‘ã‚Œã°ï¼‰
  - ã‚¢ãƒ–ã‚¹ãƒˆãƒ©ã‚¯ãƒˆã‚’ã‚³ãƒ¼ãƒ‰ãƒ•ã‚§ãƒ³ã‚¹ï¼ˆ```ï¼‰ã§å›²ã‚€
  - ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡ºåŠ›

  JSONå½¢å¼ã§çµæœã‚’è¿”ã—ã¦ãã ã•ã„ã€‚"
)

# çµæœã‚’å—ã‘å–ã‚‹
result_step10 = (JSONè§£æ)

# ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯
if result_step10.status == "error":
  if result_step10.error.level == "CRITICAL":
    # å‡¦ç†ä¸­æ–­
    ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥ã—ã¦çµ‚äº†

# Todoã‚’æ›´æ–°
TodoWrite([...])

# ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’é€šçŸ¥
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥: f"ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã—ã¾ã—ãŸ: {result_step10.data.output_path}"
```

### Step 11: BlueskyæŠ•ç¨¿

```
# bluesky-postã‚¹ã‚­ãƒ«ã®å°‚ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å‘¼ã³å‡ºã—
# ã€é‡è¦ã€‘ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§ã¯ãªãã€æ—¢å­˜ã®ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ç”¨
# ã€ç¦æ­¢ã€‘ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãŒç‹¬è‡ªã«ãƒ­ã‚°ã‚¤ãƒ³ãƒã‚§ãƒƒã‚¯ã‚„sskyå‘¼ã³å‡ºã—ã‚’è¡Œã‚ãªã„ã“ã¨
# ã€ç¦æ­¢ã€‘post.shä»¥å¤–ã®æ–¹æ³•ã§BlueskyæŠ•ç¨¿ã‚’è©¦ã¿ãªã„ã“ã¨
# post.shå†…ã§ãƒ­ã‚°ã‚¤ãƒ³ãƒã‚§ãƒƒã‚¯ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¯å®Œçµã—ã¦ã„ã‚‹

Bash(
  command: f"bash .claude/skills/bluesky-post/post.sh '{result_step10.data.output_path}'",
  description: "Blueskyã«æŠ•ç¨¿"
)

# çµæœã‚’ç¢ºèª
if çµ‚äº†ã‚³ãƒ¼ãƒ‰ == 0:
  result_step11 = {
    "status": "success",
    "posted": true,
    "message": "Blueskyã«æŠ•ç¨¿ã—ã¾ã—ãŸ"
  }
else:
  result_step11 = {
    "status": "success",
    "posted": false,
    "message": "BlueskyæŠ•ç¨¿ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã—ãŸï¼ˆãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ãªã„ã€ã¾ãŸã¯ã‚¨ãƒ©ãƒ¼ï¼‰"
  }

# Todoã‚’æ›´æ–°
TodoWrite([...å…¨ã¦completed])

# å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥: "
ãƒ¬ãƒãƒ¼ãƒˆç”ŸæˆãŒå®Œäº†ã—ã¾ã—ãŸï¼

ğŸ“„ å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«: {result_step10.data.output_path}
ğŸ“Š ã‚¢ãƒ–ã‚¹ãƒˆãƒ©ã‚¯ãƒˆ: {len(result_step9.data.abstract.text)}å­—
ğŸ“š åˆ†æè³‡æ–™æ•°: {len(analyzed_materials)}å€‹
{result_step11.posted ? 'ğŸ¦‹ Blueskyã«æŠ•ç¨¿ã—ã¾ã—ãŸ' : 'âš ï¸  BlueskyæŠ•ç¨¿ã¯ã‚¹ã‚­ãƒƒãƒ—ã•ã‚Œã¾ã—ãŸ'}
"
```

---

## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### ã‚¨ãƒ©ãƒ¼ãƒ¬ãƒ™ãƒ«åˆ¥ã®å‡¦ç†

å„ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ã‚¨ãƒ©ãƒ¼ã«ã¯3ã¤ã®ãƒ¬ãƒ™ãƒ«ãŒã‚ã‚Šã¾ã™:

#### CRITICALï¼ˆå‡¦ç†ä¸­æ–­ï¼‰
- å‡¦ç†ã‚’åœæ­¢
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚¨ãƒ©ãƒ¼å†…å®¹ã‚’é€šçŸ¥
- ä¿®æ­£ãŒå¿…è¦

**ä¾‹:**
- Step 1: HTMLå–å¾—å¤±æ•—
- Step 2: å¿…é ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ¬ å¦‚
- Step 5: å…¨ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¤±æ•—
- Step 10: ãƒ•ã‚¡ã‚¤ãƒ«æ›¸ãè¾¼ã¿å¤±æ•—

#### MAJORï¼ˆã‚¹ã‚­ãƒƒãƒ—ã—ã¦ç¶šè¡Œï¼‰
- ãã®ã‚¹ãƒ†ãƒƒãƒ—ã®çµæœã‚’ç©ºã¾ãŸã¯éƒ¨åˆ†çš„ãªçµæœã¨ã—ã¦æ‰±ã†
- è­¦å‘Šã‚’è¨˜éŒ²
- æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã«é€²ã‚€

**ä¾‹:**
- Step 4: è­°äº‹éŒ²èª­ã¿å–ã‚Šå¤±æ•— â†’ è­°äº‹éŒ²ãªã—ã¨ã—ã¦ç¶šè¡Œ
- Step 6: ä¸€éƒ¨PDFåˆ¤å®šå¤±æ•— â†’ æˆåŠŸåˆ†ã§ç¶šè¡Œ
- Step 7: ä¸€éƒ¨PDFå¤‰æ›å¤±æ•— â†’ æˆåŠŸåˆ†ã§ç¶šè¡Œ

#### MINORï¼ˆè­¦å‘Šã®ã¿ï¼‰
- è­¦å‘Šã‚’è¨˜éŒ²
- å‡¦ç†ã«ã¯å½±éŸ¿ãªã—
- æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã«é€²ã‚€

**ä¾‹:**
- Step 7: ç”»åƒæŠ½å‡ºå¤±æ•—
- Step 11: BlueskyæŠ•ç¨¿å¤±æ•—

### ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®å®Ÿè£…ä¾‹

```python
def handle_subagent_result(result, step_name):
    """ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆçµæœã®çµ±ä¸€çš„ãªã‚¨ãƒ©ãƒ¼å‡¦ç†"""

    if result.status == "success":
        return result.data

    elif result.status == "error":
        error = result.error

        if error.level == "CRITICAL":
            # å‡¦ç†ä¸­æ–­
            raise Exception(f"{step_name}ã§CRITICALã‚¨ãƒ©ãƒ¼: {error.message}")

        elif error.level == "MAJOR":
            # è­¦å‘Šã‚’è¨˜éŒ²ã—ã¦ç¶šè¡Œ
            warnings.append(f"{step_name}: {error.message}")
            return None  # ç©ºã®çµæœ

        elif error.level == "MINOR":
            # è­¦å‘Šã‚’è¨˜éŒ²
            warnings.append(f"{step_name}: {error.message}")
            return result.data  # éƒ¨åˆ†çš„ãªçµæœ
```

---

## ä¸¦åˆ—å®Ÿè¡Œã®ç®¡ç†

Step 6, 7, 8ã¯è¤‡æ•°ã®ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ä¸¦åˆ—å®Ÿè¡Œã—ã¾ã™ã€‚

### å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

```
# 1ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§è¤‡æ•°ã®Taskãƒ„ãƒ¼ãƒ«ã‚’å‘¼ã³å‡ºã™

for item in items:
    Task(subagent_type: "...", prompt: "...")

# Claudeã¯è‡ªå‹•çš„ã«å…¨Taskã‚’ä¸¦åˆ—å®Ÿè¡Œ
# å…¨ã¦å®Œäº†å¾Œã€æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã«è‡ªå‹•çš„ã«é€²ã‚€
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¯”è¼ƒ

**é †æ¬¡å®Ÿè¡Œã®å ´åˆ:**
- Step 6: 1åˆ† + 1åˆ† + 1åˆ† = 3åˆ†
- Step 7: 5åˆ† + 5åˆ† + 5åˆ† = 15åˆ†
- Step 8: 3åˆ† + 3åˆ† + 3åˆ† = 9åˆ†
- **åˆè¨ˆ**: 27åˆ†

**ä¸¦åˆ—å®Ÿè¡Œã®å ´åˆ:**
- Step 6: max(1åˆ†, 1åˆ†, 1åˆ†) = 1åˆ†
- Step 7: max(5åˆ†, 5åˆ†, 5åˆ†) = 5åˆ†
- Step 8: max(3åˆ†, 3åˆ†, 3åˆ†) = 3åˆ†
- **åˆè¨ˆ**: 9åˆ†ï¼ˆ**67%çŸ­ç¸®**ï¼‰

---

## æ³¨æ„äº‹é …

### ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ã®ç¦æ­¢äº‹é …

- **å„ã‚¹ãƒ†ãƒƒãƒ—ã®å‡¦ç†æ–¹æ³•ã‚’è‡ªå·±åˆ¤æ–­ã§å¤‰æ›´ã—ãªã„**
- ã‚ã‚‹ã‚¹ãƒ†ãƒƒãƒ—ã§ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒå¤±æ•—ã—ã¦ã‚‚ã€ä»–ã®ã‚¹ãƒ†ãƒƒãƒ—ã¯æœ¬ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®æŒ‡ç¤ºé€šã‚Šã«å®Ÿè¡Œã™ã‚‹
- ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆå‘¼ã³å‡ºã—ãŒæŒ‡ç¤ºã•ã‚Œã¦ã„ã‚‹å ´åˆã€ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãŒç‹¬è‡ªã«ã‚³ãƒãƒ³ãƒ‰ã‚’çµ„ã¿ç«‹ã¦ãªã„
- ç‰¹ã«Step 11ã®BlueskyæŠ•ç¨¿ã¯`post.sh`ã‚’å‘¼ã³å‡ºã™ã“ã¨ï¼ˆãƒ­ã‚°ã‚¤ãƒ³ãƒã‚§ãƒƒã‚¯ç­‰ã¯ä¸è¦ï¼‰

### ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®è‡ªå‹•å®Œäº†

- å„ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯JSONå‡ºåŠ›å¾Œã«å³åº§çµ‚äº†
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèªã¯ä¸è¦
- ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãŒè‡ªå‹•çš„ã«æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’é–‹å§‹

### ãƒ‡ãƒ¼ã‚¿å¤‰æ›

- å„ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å‡ºåŠ›JSONã‚’æ¬¡ã®å…¥åŠ›å½¢å¼ã«å¤‰æ›
- ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãŒãƒ‡ãƒ¼ã‚¿å¤‰æ›ã‚’æ‹…å½“

### é€²æ—è¡¨ç¤º

- TodoWriteãƒ„ãƒ¼ãƒ«ã§å…¨11ã‚¹ãƒ†ãƒƒãƒ—ã®é€²æ—ã‚’è¡¨ç¤º
- å„ã‚¹ãƒ†ãƒƒãƒ—å®Œäº†æ™‚ã«Todoã‚’æ›´æ–°

### è©³ç´°ä»•æ§˜

- å„ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®è©³ç´°ä»•æ§˜ã¯ `.claude/agents/*.md` ã‚’å‚ç…§
- å…±é€šè¦ç´„ã¯ `.claude/docs/subagent-conventions.md` ã‚’å‚ç…§

---

## ãƒ‡ãƒãƒƒã‚°

### ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å€‹åˆ¥ãƒ†ã‚¹ãƒˆ

å„ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯ç‹¬ç«‹ã—ã¦ãƒ†ã‚¹ãƒˆå¯èƒ½:

```bash
# ä¾‹: content-acquirerã®ãƒ†ã‚¹ãƒˆ
Task(
  subagent_type: "content-acquirer",
  prompt: "https://www.cas.go.jp/... ã‚’å–å¾—ã—ã¦ãã ã•ã„"
)
```

### ãƒ­ã‚°ç¢ºèª

å„ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®JSONå‡ºåŠ›ã‚’ç¢ºèª:
- å…¥åŠ›ãŒæ­£ã—ãæ¸¡ã•ã‚Œã¦ã„ã‚‹ã‹
- å‡ºåŠ›å½¢å¼ãŒæ­£ã—ã„ã‹
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒé©åˆ‡ã‹

### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

**ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚‰ãªã„:**
- `.claude/agents/*.md` ã«YAMLãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ãŒã‚ã‚‹ã‹ç¢ºèª
- `.claude/settings.local.json` ã«æ¨©é™ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

**ä¸¦åˆ—å®Ÿè¡ŒãŒå‹•ä½œã—ãªã„:**
- 1ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§è¤‡æ•°ã®Taskãƒ„ãƒ¼ãƒ«ã‚’å‘¼ã³å‡ºã—ã¦ã„ã‚‹ã‹ç¢ºèª
- å„Taskãƒ„ãƒ¼ãƒ«ã®å¼•æ•°ãŒç‹¬ç«‹ã—ã¦ã„ã‚‹ã‹ç¢ºèª
